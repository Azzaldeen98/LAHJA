


@using LAHJA.Data.UI.Components.Payment.BillingContact
@using LAHJA.Data.UI.Components.Payment.CreditCard
@using LAHJA.Data.UI.Components.Plan
@using LAHJA.Helpers
@using LAHJA.Helpers.Services
@using LAHJA.UI.Components.Billing.Shared
@inject ISnackbar Snackbar
 
@using MudBlazor

@inject AuthService AuthService
<MudLayout>

    <MudContainer MaxWidth="MaxWidth.Medium" Class="mt-4" Style="padding:3%!important">


        <MudDivider Class="my-4" />
        <UpgradePlan  Params="@Params" />
        <MudDivider Class="my-4" />

        <BillingMethodsSection BilledData="BuildBillingData" />
        <MudDivider Class="my-4" />
        <PaymentMethodsSection BuildData="BuildCreditCardData" />
        <MudButton OnClick="Payment">  </MudButton>
    </MudContainer>
  
</MudLayout>

@code 

{



    [Parameter] public EventCallback<CardDetails> OnSelect { get; set; }


    [Parameter] public SubscriptionPlanInfo? Params { get; set; } = null;
    [Parameter] public BillingContact? BuildBillingData { get; set; } = null;
    [Parameter] public List<CardDetails>? BuildCreditCardData { get; set; } = null;
    
    [Parameter] public string planId { get; set; }




    public void Payment()
    {
        Snackbar.Add(Params.TotalPrice.ToString(), Severity.Error);
    }

    private List<SubscriptionPlanInfo> planInfos;

 
}
