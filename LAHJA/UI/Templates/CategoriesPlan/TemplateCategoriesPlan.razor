
@using Domain.ShareData
@using LAHJA.UI.Components.Category
@using LAHJA.UI.Components.Plan
@using LAHJA.UI.Templates.Plans

 
 @inject IManageLanguageService _manageLanguageService

@inject LAHJA.Data.UI.Templates.Plans.TemplatePlans Template

@if (Template != null)
{

    <MainCategory    DataBuild="Template.Categories" OnSubmit="Template.BuilderComponents.SubmitContainerPlans" />


    @if (Template.SubscriptionPlans != null && Template.SubscriptionPlans.Count()>0)

    {

        <MainPlan DataBuilds="Template.SubscriptionPlans" IsDialog="true"  OnSubmit="Template.BuilderComponents.SubmitSubscriptionPlan" />

    }
}

 
@code
{





    protected override async Task OnAfterRenderAsync(bool firstRender)
    {



        if (firstRender)
        {

            var CurrentLanguage = await _manageLanguageService.GetLanguageAsync();



            await Template.OnInitialize();



            StateHasChanged();

        }

        // var temp= Template.BuilderComponents.Categories;

    }
}